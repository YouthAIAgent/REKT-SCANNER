<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>REKT SCANNER | Autonomous AI Security Agent on Base</title>
    <meta name="description" content="Autonomous AI security agent scanning Base mainnet for rug pulls, honeypots, and exploits in real-time. Don't get REKT.">
    <meta property="og:title" content="REKT Scanner - AI Smart Contract Security">
    <meta property="og:description" content="Real-time autonomous security agent protecting Base mainnet. Scanning every contract deployment 24/7.">
    <meta property="og:type" content="website">
    <meta name="theme-color" content="#ff0033">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@300;400;500;600;700;800&family=Orbitron:wght@400;500;600;700;800;900&family=Share+Tech+Mono&display=swap" rel="stylesheet">
    <style>
        *{margin:0;padding:0;box-sizing:border-box}
        :root{
            --red:#ff0033;--red-dim:#990020;--red-g:rgba(255,0,51,0.4);
            --green:#00ff41;--green-dim:#009926;--green-g:rgba(0,255,65,0.3);
            --cyan:#00f0ff;--cyan-dim:#0090a0;--cyan-g:rgba(0,240,255,0.3);
            --orange:#ff6600;--yellow:#ffcc00;
            --purple:#bf5fff;--purple-g:rgba(191,95,255,0.3);--pink:#ff00aa;
            --bg:#000000;--bg2:#050510;--bg3:#0a0a1a;
            --border:rgba(0,240,255,0.06);
            --text:#8a8aa0;--dim:#2a2a4a;--white:#e0e0f0;
        }
        html{scroll-behavior:smooth}
        body{background:#000;color:var(--text);font-family:'JetBrains Mono',monospace;overflow-x:hidden;cursor:default}
        ::selection{background:var(--red);color:#fff}
        ::-webkit-scrollbar{width:4px}
        ::-webkit-scrollbar-track{background:#000}
        ::-webkit-scrollbar-thumb{background:var(--red-dim);border-radius:2px}
        ::-webkit-scrollbar-thumb:hover{background:var(--red)}

        /* ================================================================
           BOOT SCREEN
           ================================================================ */
        #boot-screen{position:fixed;top:0;left:0;width:100%;height:100%;background:#000;z-index:10000;display:flex;flex-direction:column;justify-content:center;align-items:center;transition:opacity 0.8s,visibility 0.8s}
        #boot-screen.hidden{opacity:0;visibility:hidden;pointer-events:none}
        #boot-text{font-family:'Share Tech Mono',monospace;font-size:13px;color:var(--green);line-height:1.8;max-width:700px;padding:20px;text-align:left;white-space:pre-wrap}
        #boot-text .boot-red{color:var(--red)}
        #boot-text .boot-cyan{color:var(--cyan)}
        #boot-text .boot-yellow{color:var(--yellow)}
        #boot-skull{font-size:10px;line-height:1.2;color:var(--red);text-align:center;margin-bottom:30px;opacity:0;transition:opacity 0.5s;text-shadow:0 0 10px var(--red-g)}
        #boot-skull.show{opacity:1}
        .boot-progress{width:400px;max-width:80vw;height:2px;background:rgba(0,255,65,0.1);margin-top:20px;border-radius:1px;overflow:hidden;opacity:0;transition:opacity 0.3s}
        .boot-progress.show{opacity:1}
        .boot-progress-bar{height:100%;width:0;background:var(--green);box-shadow:0 0 10px var(--green);transition:width 0.3s}

        /* ================================================================
           SHARED BACKGROUND LAYERS
           ================================================================ */
        #matrix{position:fixed;top:0;left:0;width:100%;height:100%;z-index:0;opacity:0.03;pointer-events:none}
        .grid-perspective{position:fixed;top:0;left:0;width:100%;height:100%;z-index:0;pointer-events:none;overflow:hidden;perspective:500px}
        .grid-floor{position:absolute;bottom:-50%;left:-50%;width:200%;height:200%;
            background-image:linear-gradient(rgba(0,240,255,0.03) 1px,transparent 1px),linear-gradient(90deg,rgba(0,240,255,0.03) 1px,transparent 1px);
            background-size:60px 60px;transform:rotateX(60deg);transform-origin:center top;animation:gridScroll 20s linear infinite}
        @keyframes gridScroll{from{background-position:0 0}to{background-position:0 60px}}
        .scanline{position:fixed;top:0;left:0;width:100%;height:3px;
            background:linear-gradient(90deg,transparent,var(--red),var(--cyan),var(--red),transparent);
            opacity:0.08;z-index:50;animation:scanmove 5s linear infinite;pointer-events:none}
        @keyframes scanmove{from{top:-3px}to{top:100vh}}
        .crt{position:fixed;top:0;left:0;width:100%;height:100%;z-index:49;pointer-events:none;
            background:repeating-linear-gradient(0deg,rgba(0,0,0,0.08) 0px,rgba(0,0,0,0.08) 1px,transparent 1px,transparent 3px)}
        .vignette{position:fixed;top:0;left:0;width:100%;height:100%;z-index:48;pointer-events:none;
            background:radial-gradient(ellipse at center,transparent 50%,rgba(0,0,0,0.6) 100%)}
        .floating-code{position:fixed;top:0;left:0;width:100%;height:100%;z-index:0;pointer-events:none;overflow:hidden}
        .code-snippet{position:absolute;font-size:9px;color:rgba(0,240,255,0.04);white-space:nowrap;font-family:'Share Tech Mono',monospace;animation:floatCode linear infinite}
        @keyframes floatCode{from{transform:translateY(110vh) rotate(0deg)}to{transform:translateY(-100px) rotate(2deg)}}

        /* ================================================================
           VIEW TRANSITIONS
           ================================================================ */
        #landing-view{position:relative;z-index:1;transition:opacity 0.6s,transform 0.6s;opacity:0}
        #landing-view.visible{opacity:1;transform:translateY(0)}
        #landing-view.exit{opacity:0;transform:translateY(-30px);pointer-events:none}

        #app-view{position:relative;z-index:1;display:none;opacity:0;transition:opacity 0.6s}
        #app-view.visible{display:block;opacity:1}

        /* ================================================================
           LANDING: NAV
           ================================================================ */
        .lnav{position:fixed;top:0;left:0;width:100%;z-index:100;padding:14px 30px;display:flex;justify-content:space-between;align-items:center;
            background:rgba(0,0,0,0.7);backdrop-filter:blur(20px);border-bottom:1px solid rgba(255,0,51,0.08);transition:all 0.3s}
        .lnav.scrolled{padding:8px 30px;background:rgba(0,0,0,0.95);border-bottom-color:rgba(255,0,51,0.2)}
        .lnav-logo{font-family:'Orbitron',sans-serif;font-size:18px;font-weight:900;letter-spacing:8px;color:var(--red);text-shadow:0 0 20px var(--red-g)}
        .lnav-logo::after{content:'_';animation:blink 1s step-end infinite}
        @keyframes blink{50%{opacity:0}}
        .lnav-status{display:flex;align-items:center;gap:6px;font-size:8px;letter-spacing:2px;color:var(--green)}
        .lnav-status .dot{width:6px;height:6px;border-radius:50%;background:var(--green);box-shadow:0 0 8px var(--green);animation:pulse 2s infinite}
        @keyframes pulse{0%,100%{opacity:1}50%{opacity:0.5}}
        .lnav-links{display:flex;gap:20px;align-items:center}
        .lnav-links a{color:var(--dim);text-decoration:none;font-size:9px;letter-spacing:3px;text-transform:uppercase;transition:all 0.3s}
        .lnav-links a:hover{color:var(--red);text-shadow:0 0 10px var(--red-g)}
        .lnav-btn{padding:8px 20px;background:transparent;border:1px solid var(--red);color:var(--red);font-family:'Orbitron',sans-serif;
            font-size:8px;letter-spacing:4px;cursor:pointer;border-radius:0;transition:all 0.3s;text-decoration:none;overflow:hidden}
        .lnav-btn:hover{background:rgba(255,0,51,0.1);box-shadow:0 0 20px var(--red-g);text-shadow:0 0 10px var(--red)}

        /* ================================================================
           LANDING: HERO
           ================================================================ */
        .hero{min-height:100vh;display:flex;flex-direction:column;justify-content:center;align-items:center;text-align:center;padding:100px 20px 60px;position:relative;overflow:hidden}
        .hero-bg-pulse{position:absolute;top:50%;left:50%;width:600px;height:600px;transform:translate(-50%,-50%);border-radius:50%;
            background:radial-gradient(circle,rgba(255,0,51,0.05) 0%,transparent 70%);animation:heroPulse 4s ease-in-out infinite}
        @keyframes heroPulse{0%,100%{transform:translate(-50%,-50%) scale(1);opacity:0.5}50%{transform:translate(-50%,-50%) scale(1.3);opacity:1}}
        .hero-ascii{font-family:'Share Tech Mono',monospace;font-size:clamp(6px,1.2vw,11px);line-height:1.15;color:var(--red);margin-bottom:20px;
            text-shadow:0 0 20px var(--red-g);white-space:pre;opacity:0;animation:fadeUp 1s ease forwards 0.3s}
        .hero-title{font-family:'Orbitron',sans-serif;font-size:clamp(40px,9vw,100px);font-weight:900;letter-spacing:clamp(8px,2vw,20px);
            color:var(--white);position:relative;opacity:0;animation:fadeUp 0.8s ease forwards 0.6s}
        .hero-title .char{display:inline-block;animation:glitchChar 4s infinite;animation-delay:var(--d)}
        @keyframes glitchChar{0%,100%{transform:translate(0);opacity:1}2%{transform:translate(-2px,1px);opacity:0.8}4%{transform:translate(2px,-1px)}6%{transform:translate(0);opacity:1}50%{transform:translate(0)}52%{transform:translate(1px,-1px);color:var(--cyan)}54%{transform:translate(-1px,1px);color:var(--red)}56%{transform:translate(0);color:var(--white)}}
        .hero-title::after{content:'';position:absolute;bottom:-8px;left:0;width:100%;height:2px;
            background:linear-gradient(90deg,transparent,var(--red),var(--red),transparent);animation:lineGlow 2s ease-in-out infinite}
        @keyframes lineGlow{0%,100%{opacity:0.3}50%{opacity:1;box-shadow:0 0 20px var(--red)}}
        .hero-scanner{font-family:'Orbitron',sans-serif;font-size:clamp(12px,2.5vw,22px);letter-spacing:clamp(6px,2vw,16px);
            color:var(--cyan);font-weight:300;opacity:0;animation:fadeUp 0.8s ease forwards 0.9s;text-shadow:0 0 15px var(--cyan-g)}
        .hero-tagline{margin-top:20px;font-size:11px;color:var(--dim);letter-spacing:4px;opacity:0;animation:fadeUp 0.8s ease forwards 1.2s}
        .hero-terminal{margin-top:40px;width:min(750px,92vw);text-align:left;opacity:0;animation:fadeUp 0.8s ease forwards 1.5s}
        .term-window{background:rgba(0,0,0,0.8);border:1px solid rgba(255,0,51,0.15);overflow:hidden;
            box-shadow:0 0 40px rgba(255,0,51,0.05),inset 0 0 60px rgba(0,0,0,0.5)}
        .term-bar{padding:8px 14px;background:rgba(255,0,51,0.03);border-bottom:1px solid rgba(255,0,51,0.1);display:flex;align-items:center;justify-content:space-between}
        .term-bar-left{display:flex;align-items:center;gap:6px}
        .term-dot{width:8px;height:8px;border-radius:50%;border:1px solid}
        .term-dot.r{border-color:var(--red);background:rgba(255,0,51,0.3)}.term-dot.y{border-color:var(--yellow);background:rgba(255,204,0,0.2)}.term-dot.g{border-color:var(--green);background:rgba(0,255,65,0.3)}
        .term-title{font-size:9px;color:var(--dim);letter-spacing:3px}
        .term-body{padding:18px;font-size:11px;line-height:1.9;min-height:220px}
        .term-body .line{opacity:0;transform:translateX(-5px);transition:all 0.3s ease}
        .term-body .line.show{opacity:1;transform:translateX(0)}
        .t-g{color:var(--green)}.t-c{color:var(--cyan)}.t-r{color:var(--red)}.t-o{color:var(--orange)}.t-w{color:var(--white)}.t-d{color:var(--dim)}.t-p{color:var(--purple)}.t-y{color:var(--yellow)}
        .cursor-blink{display:inline-block;width:8px;height:14px;background:var(--green);animation:blink 0.8s step-end infinite;vertical-align:middle;margin-left:2px}
        .hero-badges{margin-top:30px;display:flex;gap:8px;flex-wrap:wrap;justify-content:center;opacity:0;animation:fadeUp 0.8s ease forwards 1.8s}
        .badge{padding:5px 12px;border:1px solid rgba(255,0,51,0.1);font-size:8px;letter-spacing:2px;color:var(--dim);background:rgba(255,0,51,0.02);transition:all 0.3s}
        .badge::before{content:'[';color:var(--red);margin-right:4px}.badge::after{content:']';color:var(--red);margin-left:4px}
        .badge:hover{border-color:var(--red);color:var(--red);text-shadow:0 0 8px var(--red-g)}
        .badge.live{border-color:rgba(0,255,65,0.2);color:var(--green)}.badge.live::before,.badge.live::after{color:var(--green)}
        .badge.live .live-dot{display:inline-block;width:4px;height:4px;border-radius:50%;background:var(--green);margin-right:6px;box-shadow:0 0 6px var(--green);animation:pulse 1.5s infinite}
        .hero-cta{margin-top:35px;display:flex;gap:16px;flex-wrap:wrap;justify-content:center;opacity:0;animation:fadeUp 0.8s ease forwards 2s}
        .btn-launch{padding:16px 50px;background:transparent;border:2px solid var(--red);color:var(--red);
            font-family:'Orbitron',sans-serif;font-size:11px;letter-spacing:6px;cursor:pointer;border-radius:0;
            transition:all 0.3s;text-decoration:none;display:inline-block;position:relative;overflow:hidden}
        .btn-launch:hover{background:var(--red);color:#000;box-shadow:0 0 50px var(--red-g);text-shadow:none;transform:scale(1.02)}
        .btn-launch::after{content:'>';margin-left:10px;transition:margin-left 0.3s}
        .btn-launch:hover::after{margin-left:16px}
        .btn-gh{padding:16px 50px;background:transparent;border:1px solid var(--dim);color:var(--dim);
            font-family:'Orbitron',sans-serif;font-size:11px;letter-spacing:6px;cursor:pointer;border-radius:0;
            transition:all 0.3s;text-decoration:none;display:inline-block}
        .btn-gh:hover{border-color:var(--cyan);color:var(--cyan);box-shadow:0 0 25px var(--cyan-g)}
        .scroll-hint{position:absolute;bottom:30px;left:50%;transform:translateX(-50%);display:flex;flex-direction:column;align-items:center;gap:6px;opacity:0;animation:fadeUp 0.8s ease forwards 2.5s}
        .scroll-hint span{font-size:7px;color:var(--dim);letter-spacing:4px}
        .scroll-mouse{width:16px;height:24px;border:1px solid var(--dim);border-radius:8px;position:relative}
        .scroll-mouse::after{content:'';position:absolute;top:4px;left:50%;width:2px;height:6px;background:var(--red);transform:translateX(-50%);border-radius:1px;animation:scrollDot 1.5s infinite}
        @keyframes scrollDot{0%{opacity:1;top:4px}100%{opacity:0;top:14px}}
        @keyframes fadeUp{from{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}

        /* ================================================================
           LANDING: KILL FEED
           ================================================================ */
        .lkill-feed{position:fixed;top:60px;right:20px;z-index:90;display:flex;flex-direction:column;gap:4px;pointer-events:none}
        .lkill-entry{padding:6px 12px;background:rgba(0,0,0,0.85);border-left:2px solid var(--red);font-size:8px;letter-spacing:1px;
            color:var(--red);white-space:nowrap;animation:killIn 0.3s ease,killOut 0.5s ease 4s forwards;backdrop-filter:blur(10px)}
        .lkill-entry.safe{border-color:var(--green);color:var(--green)}
        @keyframes killIn{from{opacity:0;transform:translateX(40px)}to{opacity:1;transform:translateX(0)}}
        @keyframes killOut{to{opacity:0;transform:translateX(40px)}}

        /* ================================================================
           LANDING: SECTIONS
           ================================================================ */
        .lsection{padding:100px 40px;position:relative}
        .section-header{margin-bottom:60px}
        .section-prefix{font-family:'Share Tech Mono',monospace;font-size:10px;color:var(--red);letter-spacing:2px;margin-bottom:6px;opacity:0.7}
        .section-title{font-family:'Orbitron',sans-serif;font-size:clamp(22px,4vw,38px);font-weight:800;color:var(--white);letter-spacing:4px}
        .section-title .accent{color:var(--red);text-shadow:0 0 20px var(--red-g)}
        .section-line{width:60px;height:1px;background:var(--red);margin-top:16px;box-shadow:0 0 10px var(--red-g)}
        .section-desc{font-size:11px;color:var(--dim);max-width:550px;line-height:1.9;margin-top:12px}

        /* Stats */
        .stats-bar{display:flex;justify-content:center;gap:0;background:rgba(255,0,51,0.01);border-top:1px solid rgba(255,0,51,0.08);border-bottom:1px solid rgba(255,0,51,0.08);flex-wrap:wrap}
        .stat-item{text-align:center;padding:40px 50px;border-right:1px solid rgba(255,0,51,0.06);flex:1;min-width:180px;transition:background 0.3s}
        .stat-item:last-child{border-right:none}
        .stat-item:hover{background:rgba(255,0,51,0.03)}
        .stat-num{font-family:'Orbitron',sans-serif;font-size:clamp(28px,5vw,52px);font-weight:900;color:var(--red);text-shadow:0 0 30px var(--red-g)}
        .stat-label{font-size:8px;color:var(--dim);letter-spacing:4px;margin-top:8px;text-transform:uppercase}
        .stat-sub{font-size:9px;color:var(--green);margin-top:4px;letter-spacing:1px}

        /* Features */
        .features-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(320px,1fr));gap:1px;max-width:1200px;margin:0 auto;background:rgba(255,0,51,0.04)}
        .feature-card{padding:30px;background:#000;position:relative;overflow:hidden;cursor:default;transition:all 0.4s}
        .feature-card::before{content:'';position:absolute;top:0;left:0;width:100%;height:1px;background:linear-gradient(90deg,transparent,var(--red),transparent);opacity:0;transition:opacity 0.4s}
        .feature-card:hover{background:rgba(255,0,51,0.02)}
        .feature-card:hover::before{opacity:1}
        .fc-num{font-family:'Orbitron',sans-serif;font-size:60px;font-weight:900;color:rgba(255,0,51,0.04);position:absolute;top:-10px;right:10px;line-height:1}
        .fc-icon{font-size:24px;margin-bottom:16px;display:block}
        .fc-title{font-family:'Orbitron',sans-serif;font-size:11px;font-weight:700;letter-spacing:3px;color:var(--white);margin-bottom:10px}
        .fc-desc{font-size:10px;color:var(--dim);line-height:1.8}
        .fc-tag{display:inline-block;margin-top:12px;padding:2px 8px;font-size:7px;letter-spacing:2px;border:1px solid;text-transform:uppercase}
        .fc-tag.critical{border-color:rgba(255,0,51,0.3);color:var(--red)}.fc-tag.ai{border-color:rgba(191,95,255,0.3);color:var(--purple)}.fc-tag.fun{border-color:rgba(0,240,255,0.3);color:var(--cyan)}

        /* CTA */
        .cta-section{text-align:center;position:relative;overflow:hidden}
        .cta-big{font-family:'Orbitron',sans-serif;font-size:clamp(28px,6vw,60px);font-weight:900;letter-spacing:8px;color:var(--white);margin-bottom:16px}
        .cta-big .red{color:var(--red);text-shadow:0 0 30px var(--red-g)}

        /* Footer */
        .lfooter{padding:50px 40px 25px;border-top:1px solid rgba(255,0,51,0.06);text-align:center;background:rgba(0,0,0,0.5)}
        .lfooter-logo{font-family:'Orbitron',sans-serif;font-size:14px;font-weight:900;letter-spacing:10px;color:var(--red);text-shadow:0 0 15px var(--red-g)}
        .lfooter-tagline{font-size:9px;color:var(--dim);margin-top:6px;letter-spacing:3px}
        .lfooter-links{margin-top:20px;display:flex;gap:10px;justify-content:center;flex-wrap:wrap}
        .lfooter-links a{color:var(--dim);text-decoration:none;font-size:8px;letter-spacing:3px;transition:all 0.3s;padding:6px 14px;border:1px solid rgba(255,0,51,0.06)}
        .lfooter-links a:hover{color:var(--red);border-color:var(--red)}
        .lfooter-copy{margin-top:25px;font-size:8px;color:var(--dim);letter-spacing:2px;line-height:2}

        /* Reveal */
        .reveal{opacity:0;transform:translateY(25px);transition:all 0.7s cubic-bezier(0.16,1,0.3,1)}
        .reveal.visible{opacity:1;transform:translateY(0)}
        .reveal-d1{transition-delay:0.1s}.reveal-d2{transition-delay:0.2s}.reveal-d3{transition-delay:0.3s}

        /* ================================================================
           APP: STYLES
           ================================================================ */
        .app-topbar{display:flex;justify-content:space-between;align-items:center;padding:8px 16px;
            background:rgba(0,0,0,0.95);border-bottom:1px solid rgba(255,0,51,0.1);backdrop-filter:blur(20px);
            position:sticky;top:0;z-index:100}
        .app-logo{font-family:'Orbitron',sans-serif;font-size:20px;font-weight:900;
            background:linear-gradient(135deg,var(--red),var(--orange),var(--red));
            -webkit-background-clip:text;background-clip:text;-webkit-text-fill-color:transparent;
            letter-spacing:6px;cursor:pointer;text-decoration:none}
        .app-topbar-left{display:flex;align-items:center;gap:10px}
        .app-status-dot{width:8px;height:8px;border-radius:50%;background:var(--green);box-shadow:0 0 12px var(--green-g);animation:pulse 2s infinite}
        .app-status-text{font-size:9px;color:var(--green);letter-spacing:2px}
        .tbtn{padding:4px 10px;border:1px solid var(--border);background:rgba(0,240,255,0.05);
            color:var(--dim);font-family:'Orbitron',sans-serif;font-size:8px;border-radius:14px;
            cursor:pointer;letter-spacing:1px;transition:all 0.3s;white-space:nowrap}
        .tbtn.active{border-color:var(--cyan);color:var(--cyan);box-shadow:0 0 10px var(--cyan-g);background:rgba(0,240,255,0.1)}
        .tbtn.music-on{border-color:var(--purple);color:var(--purple);box-shadow:0 0 10px var(--purple-g)}
        .tbtn-back{padding:4px 10px;border:1px solid rgba(255,0,51,0.2);background:rgba(255,0,51,0.05);
            color:var(--red);font-family:'Orbitron',sans-serif;font-size:8px;border-radius:14px;
            cursor:pointer;letter-spacing:1px;transition:all 0.3s}
        .tbtn-back:hover{border-color:var(--red);background:rgba(255,0,51,0.1);box-shadow:0 0 10px var(--red-g)}
        .weather{display:flex;align-items:center;gap:6px;padding:4px 10px;border:1px solid var(--border);border-radius:14px;
            background:rgba(0,0,0,0.3);font-size:9px;cursor:pointer}
        .weather-icon{font-size:14px}
        .weather-text{color:var(--yellow);letter-spacing:1px;font-family:'Orbitron',sans-serif;font-size:8px}
        .topbar-stats{display:flex;gap:14px}
        .top-stat{text-align:center}
        .top-stat-val{font-family:'Orbitron',sans-serif;font-size:13px;font-weight:700;color:var(--cyan)}
        .top-stat-label{font-size:7px;color:var(--dim);letter-spacing:2px;text-transform:uppercase;margin-top:1px}
        .app-main{display:grid;grid-template-columns:1fr 440px;gap:0;height:calc(100vh - 46px)}
        .feed-panel{display:flex;flex-direction:column;border-right:1px solid var(--border);overflow:hidden;position:relative}
        .panel-header{padding:10px 16px;border-bottom:1px solid var(--border);display:flex;justify-content:space-between;
            align-items:center;background:rgba(8,8,18,0.8)}
        .panel-title{font-family:'Orbitron',sans-serif;font-size:9px;color:var(--dim);letter-spacing:3px}
        .feed-scroll{flex:1;overflow-y:auto;padding:0}
        .feed-scroll::-webkit-scrollbar{width:3px}
        .feed-scroll::-webkit-scrollbar-thumb{background:var(--border)}
        .contract-card{padding:12px 16px;border-bottom:1px solid rgba(0,240,255,0.05);cursor:pointer;
            transition:all 0.3s;animation:slideIn 0.4s ease-out;position:relative;overflow:hidden}
        @keyframes slideIn{from{transform:translateX(-30px);opacity:0}to{transform:translateX(0);opacity:1}}
        .contract-card:hover{background:rgba(0,240,255,0.03)}
        .contract-card.threat{border-left:3px solid var(--red);background:rgba(255,0,51,0.02)}
        .contract-card.threat::before{content:'';position:absolute;top:0;left:0;width:100%;height:100%;
            background:linear-gradient(90deg,rgba(255,0,51,0.05),transparent);pointer-events:none;animation:threatPulse 2s infinite}
        @keyframes threatPulse{0%,100%{opacity:0.3}50%{opacity:0.8}}
        .contract-card.safe{border-left:3px solid var(--green)}
        .contract-card.warning{border-left:3px solid var(--orange)}
        .cc-top{display:flex;justify-content:space-between;align-items:center;margin-bottom:4px}
        .cc-addr{font-size:11px;color:var(--cyan);font-weight:500}
        .cc-risk{font-size:9px;font-weight:700;padding:2px 8px;border-radius:20px;letter-spacing:1px;font-family:'Orbitron',sans-serif}
        .cc-risk.critical{background:rgba(255,0,51,0.15);color:var(--red);box-shadow:0 0 10px var(--red-g)}
        .cc-risk.high{background:rgba(255,102,0,0.15);color:var(--orange)}
        .cc-risk.medium{background:rgba(255,204,0,0.1);color:var(--yellow)}
        .cc-risk.low{background:rgba(0,255,65,0.08);color:var(--green)}
        .cc-meta{display:flex;gap:10px;font-size:8px;color:var(--dim);margin-bottom:3px}
        .cc-bytecode{font-size:8px;color:var(--green);opacity:0.3;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}
        .cc-commentary{margin-top:5px;padding:5px 8px;background:rgba(0,240,255,0.03);border-radius:4px;
            border-left:2px solid var(--cyan);font-size:8px;color:var(--cyan);opacity:0.7;font-style:italic}
        .cc-findings{display:flex;gap:3px;margin-top:4px;flex-wrap:wrap}
        .cc-tag{font-size:7px;padding:2px 5px;border-radius:8px;letter-spacing:1px;text-transform:uppercase}
        .cc-tag.CRITICAL{background:rgba(255,0,51,0.1);color:var(--red);border:1px solid rgba(255,0,51,0.2)}
        .cc-tag.HIGH{background:rgba(255,102,0,0.1);color:var(--orange);border:1px solid rgba(255,102,0,0.2)}
        .cc-tag.MEDIUM{background:rgba(255,204,0,0.08);color:var(--yellow);border:1px solid rgba(255,204,0,0.2)}
        .block-ev{padding:4px 16px;border-bottom:1px solid rgba(0,240,255,0.02);font-size:8px;color:var(--dim);display:flex;justify-content:space-between}
        .app-kill-feed{position:absolute;bottom:10px;left:10px;right:10px;z-index:10;pointer-events:none;display:flex;flex-direction:column;gap:4px}
        .akill-entry{padding:5px 10px;background:rgba(3,3,8,0.9);border:1px solid var(--red);border-radius:6px;
            font-size:9px;animation:slideIn 0.3s ease-out;backdrop-filter:blur(10px)}
        .akill-entry.safe{border-color:var(--green)}
        .right-panel{display:flex;flex-direction:column;overflow:hidden;background:var(--bg2)}
        .search-sec{padding:10px 12px;border-bottom:1px solid var(--border);background:rgba(8,8,18,0.8)}
        .search-wrap{position:relative;margin-bottom:6px}
        .search-input{width:100%;padding:9px 12px;padding-right:70px;background:var(--bg);
            border:1px solid var(--border);border-radius:8px;color:#fff;font-family:'JetBrains Mono',monospace;
            font-size:10px;outline:none;transition:all 0.3s}
        .search-input:focus{border-color:var(--cyan);box-shadow:0 0 15px var(--cyan-g)}
        .search-input::placeholder{color:#222}
        .btn-scan{position:absolute;right:3px;top:3px;bottom:3px;padding:0 14px;
            background:linear-gradient(135deg,var(--red),#cc0000);border:none;border-radius:6px;
            color:#fff;font-family:'Orbitron',sans-serif;font-size:8px;font-weight:700;letter-spacing:2px;cursor:pointer}
        .loss-calc{display:flex;gap:6px;align-items:center}
        .loss-input{width:80px;padding:5px 8px;background:var(--bg);border:1px solid var(--border);border-radius:6px;
            color:var(--yellow);font-family:'JetBrains Mono',monospace;font-size:9px;outline:none}
        .loss-result{font-size:9px;color:var(--red);font-family:'Orbitron',sans-serif}
        .tab-bar{display:flex;border-bottom:1px solid var(--border);background:rgba(3,3,8,0.8);overflow-x:auto}
        .tab-bar::-webkit-scrollbar{height:0}
        .tab{padding:7px 10px;font-size:7px;font-family:'Orbitron',sans-serif;letter-spacing:1px;color:var(--dim);
            cursor:pointer;border-bottom:2px solid transparent;transition:all 0.3s;white-space:nowrap}
        .tab:hover{color:var(--text)}
        .tab.active{color:var(--cyan);border-bottom-color:var(--cyan)}
        .tab.active-red{color:var(--red);border-bottom-color:var(--red)}
        .tab.active-purple{color:var(--purple);border-bottom-color:var(--purple)}
        .tab.active-orange{color:var(--orange);border-bottom-color:var(--orange)}
        .report-panel{flex:1;overflow-y:auto;padding:0;display:flex;flex-direction:column}
        .report-panel::-webkit-scrollbar{width:3px}
        .report-panel::-webkit-scrollbar-thumb{background:var(--border)}
        .terminal{background:var(--bg);margin:8px;border-radius:10px;border:1px solid var(--border);
            overflow:hidden;flex:1;display:flex;flex-direction:column}
        .terminal-header{padding:8px 14px;background:rgba(0,240,255,0.03);border-bottom:1px solid var(--border);
            display:flex;align-items:center;gap:6px}
        .terminal-dot{width:9px;height:9px;border-radius:50%}
        .terminal-dot.r{background:#ff3b30}.terminal-dot.y{background:#ffcc00}.terminal-dot.g{background:#00ff41}
        .terminal-title{font-size:9px;color:var(--dim);letter-spacing:2px;margin-left:6px}
        .terminal-body{padding:14px;flex:1;overflow-y:auto;font-size:10px;line-height:1.7;white-space:pre-wrap;word-wrap:break-word}
        .terminal-body::-webkit-scrollbar{width:3px}
        .terminal-body::-webkit-scrollbar-thumb{background:var(--border)}
        .t-prompt{color:var(--green)}.t-info{color:var(--cyan)}.t-warn{color:var(--orange)}
        .t-danger{color:var(--red)}.t-dim{color:var(--dim)}.t-white{color:#e0e0e0}.t-purple{color:var(--purple)}
        .code-block{margin:8px 0;padding:10px;background:rgba(0,0,0,0.4);border-radius:6px;
            border:1px solid rgba(255,0,51,0.1);overflow-x:auto;font-size:9px;line-height:1.6;white-space:pre}
        .code-line{display:flex;gap:10px}
        .code-num{color:var(--dim);min-width:30px;text-align:right;user-select:none}
        .code-text{color:var(--text)}
        .code-text.danger{color:var(--red);font-weight:700;text-shadow:0 0 8px var(--red-g);background:rgba(255,0,51,0.06);padding:0 3px;border-radius:2px}
        .code-text.safe{color:var(--green);opacity:0.5}
        .code-annotation{color:var(--orange);font-size:8px;font-style:italic;padding-left:4px;border-left:2px solid var(--red);background:rgba(255,0,51,0.03);padding:1px 6px}
        .shame-card{padding:10px;margin:4px 0;background:rgba(255,0,51,0.03);border:1px solid rgba(255,0,51,0.1);border-radius:8px}
        .debate-box{padding:10px;margin:6px 0;border-radius:8px;border:1px solid var(--border)}
        .debate-box.bull{border-color:rgba(0,255,65,0.3);background:rgba(0,255,65,0.03)}
        .debate-box.bear{border-color:rgba(255,0,51,0.3);background:rgba(255,0,51,0.03)}
        .threat-overlay{position:fixed;top:0;left:0;width:100%;height:100%;z-index:200;pointer-events:none;display:none;animation:redFlash 0.5s ease-in-out 3}
        .threat-overlay.active{display:block}
        @keyframes redFlash{0%,100%{background:transparent}50%{background:rgba(255,0,51,0.08)}}
        .threat-alert{position:fixed;top:55px;right:16px;padding:12px 16px;
            background:rgba(3,3,8,0.95);border:1px solid var(--red);border-radius:10px;
            backdrop-filter:blur(20px);z-index:201;max-width:360px;
            animation:alertSlide 0.4s ease-out;box-shadow:0 0 30px var(--red-g)}
        @keyframes alertSlide{from{transform:translateX(100px);opacity:0}to{transform:translateX(0);opacity:1}}
        .alert-title{font-family:'Orbitron',sans-serif;font-size:11px;color:var(--red);letter-spacing:3px;margin-bottom:4px;animation:alertBlink 0.5s infinite}
        @keyframes alertBlink{0%,100%{opacity:1}50%{opacity:0.5}}
        .alert-addr{font-size:9px;color:var(--cyan);margin-bottom:3px}
        .alert-info{font-size:8px;color:var(--dim)}
        .bingo-overlay{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);z-index:300;
            background:rgba(3,3,8,0.97);border:1px solid var(--cyan);border-radius:16px;padding:20px;
            backdrop-filter:blur(20px);display:none;min-width:340px;box-shadow:0 0 40px var(--cyan-g)}
        .bingo-overlay.show{display:block;animation:bingoIn 0.3s ease-out}
        @keyframes bingoIn{from{transform:translate(-50%,-50%) scale(0.8);opacity:0}to{transform:translate(-50%,-50%) scale(1);opacity:1}}
        .bingo-title{font-family:'Orbitron',sans-serif;font-size:14px;color:var(--cyan);text-align:center;margin-bottom:12px;letter-spacing:4px}
        .bingo-grid{display:grid;grid-template-columns:repeat(4,1fr);gap:4px}
        .bingo-sq{padding:8px 4px;text-align:center;font-size:7px;border:1px solid var(--border);border-radius:6px;
            color:var(--dim);letter-spacing:1px;transition:all 0.3s}
        .bingo-sq.found{background:rgba(0,255,65,0.1);border-color:var(--green);color:var(--green);font-weight:700}
        .bingo-sq.free{background:rgba(0,240,255,0.1);border-color:var(--cyan);color:var(--cyan)}
        .bingo-close{position:absolute;top:10px;right:14px;color:var(--dim);cursor:pointer;font-size:16px}
        .bingo-status{text-align:center;margin-top:10px;font-family:'Orbitron',sans-serif;font-size:10px;letter-spacing:2px}

        @media(max-width:900px){.app-main{grid-template-columns:1fr;height:auto}.right-panel{height:70vh}.topbar-stats{display:none}.weather{display:none}}
        @media(max-width:768px){
            .lsection{padding:60px 16px}
            .lnav-links a:not(.lnav-btn){display:none}
            .lnav-status{display:none}
            .stats-bar{flex-direction:column}
            .stat-item{border-right:none;border-bottom:1px solid rgba(255,0,51,0.06);padding:25px 20px}
            .stat-item:last-child{border-bottom:none}
            .features-grid{grid-template-columns:1fr}
            .lkill-feed{display:none}
            .hero-ascii{font-size:5px !important}
        }
    </style>
</head>
<body>
    <!-- ============ BOOT SCREEN ============ -->
    <div id="boot-screen">
        <div id="boot-skull"></div>
        <div id="boot-text"></div>
        <div class="boot-progress"><div class="boot-progress-bar" id="boot-bar"></div></div>
    </div>

    <!-- ============ SHARED BG ============ -->
    <canvas id="matrix"></canvas>
    <div class="grid-perspective"><div class="grid-floor"></div></div>
    <div class="floating-code" id="floating-code"></div>
    <div class="scanline"></div>
    <div class="crt"></div>
    <div class="vignette"></div>

    <!-- ============ LANDING VIEW ============ -->
    <div id="landing-view">
        <div class="lkill-feed" id="lkill-feed"></div>
        <nav class="lnav" id="lnav">
            <div style="display:flex;align-items:center;gap:20px">
                <div class="lnav-logo">REKT</div>
                <div class="lnav-status"><div class="dot"></div>SCANNING BASE</div>
            </div>
            <div class="lnav-links">
                <a href="#features">ARSENAL</a>
                <a href="#how">PIPELINE</a>
                <a href="#vulns">THREATS</a>
                <a class="lnav-btn" href="#" onclick="enterApp();return false">LAUNCH APP</a>
            </div>
        </nav>

        <!-- HERO -->
        <section class="hero">
            <div class="hero-bg-pulse"></div>
            <div class="hero-ascii" id="hero-ascii"></div>
            <div style="position:relative;margin-bottom:10px">
                <div class="hero-title" id="hero-title"></div>
            </div>
            <div class="hero-scanner" id="hero-scanner"></div>
            <div class="hero-tagline">// AUTONOMOUS AI SECURITY AGENT ON BASE MAINNET</div>
            <div class="hero-terminal">
                <div class="term-window">
                    <div class="term-bar">
                        <div class="term-bar-left">
                            <div class="term-dot r"></div><div class="term-dot y"></div><div class="term-dot g"></div>
                            <div class="term-title">REKT-SCANNER v4.0 | PID 1337</div>
                        </div>
                        <div class="term-title" id="term-clock"></div>
                    </div>
                    <div class="term-body" id="hero-term"></div>
                </div>
            </div>
            <div class="hero-badges">
                <div class="badge live"><span class="live-dot"></span>LIVE ON BASE</div>
                <div class="badge">CHAIN 8453</div>
                <div class="badge">GROQ AI</div>
                <div class="badge">24/7</div>
                <div class="badge">7 VULN TYPES</div>
                <div class="badge">22+ ENDPOINTS</div>
            </div>
            <div class="hero-cta">
                <a href="#" class="btn-launch" onclick="enterApp();return false">ENTER SCANNER</a>
                <a href="https://github.com/YouthAIAgent/REKT-SCANNER" class="btn-gh" target="_blank">GITHUB</a>
            </div>
            <div class="scroll-hint"><div class="scroll-mouse"></div><span>SCROLL</span></div>
        </section>

        <!-- STATS -->
        <div class="stats-bar" id="stats-bar">
            <div class="stat-item reveal"><div class="stat-num" data-target="24" data-suffix="+">0</div><div class="stat-label">WEAPONS LOADED</div><div class="stat-sub">features active</div></div>
            <div class="stat-item reveal reveal-d1"><div class="stat-num" data-target="7">0</div><div class="stat-label">VULN CATEGORIES</div><div class="stat-sub">threat vectors</div></div>
            <div class="stat-item reveal reveal-d2"><div class="stat-num" data-target="22" data-suffix="+">0</div><div class="stat-label">API ENDPOINTS</div><div class="stat-sub">REST + WebSocket</div></div>
            <div class="stat-item reveal reveal-d3"><div class="stat-num" data-target="2" data-suffix="s">0</div><div class="stat-label">BLOCK LATENCY</div><div class="stat-sub">real-time scanning</div></div>
        </div>

        <!-- FEATURES -->
        <section class="lsection" id="features" style="background:rgba(255,0,51,0.005)">
            <div class="section-header reveal" style="text-align:center">
                <div class="section-prefix">root@rekt:~$ cat /etc/arsenal.conf</div>
                <div class="section-title">FEATURE <span class="accent">ARSENAL</span></div>
                <div class="section-line" style="margin:16px auto 0"></div>
                <div class="section-desc" style="margin:12px auto 0">Every weapon you need to detect scams, analyze contracts, and protect the ecosystem.</div>
            </div>
            <div class="features-grid" style="margin-top:60px">
                <div class="feature-card reveal"><div class="fc-num">01</div><span class="fc-icon" style="color:var(--red)">&#9673;</span><div class="fc-title">REAL-TIME MONITOR</div><div class="fc-desc">Every contract deployment on Base. Every block. 2-second polling. Nothing gets past.</div><span class="fc-tag critical">CORE ENGINE</span></div>
                <div class="feature-card reveal reveal-d1"><div class="fc-num">02</div><span class="fc-icon" style="color:var(--cyan)">&lt;/&gt;</span><div class="fc-title">CODE FORENSICS</div><div class="fc-desc">Pinpoints exact line numbers. Source + bytecode analysis with 4 rotating BaseScan keys.</div><span class="fc-tag critical">CORE ENGINE</span></div>
                <div class="feature-card reveal reveal-d2"><div class="fc-num">03</div><span class="fc-icon" style="color:var(--purple)">&#9041;</span><div class="fc-title">AI VOICE NARRATION</div><div class="fc-desc">Sports-style threat commentary. War correspondent live from the blockchain frontline.</div><span class="fc-tag ai">AI POWERED</span></div>
                <div class="feature-card reveal reveal-d3"><div class="fc-num">04</div><span class="fc-icon" style="color:var(--orange)">&#9888;</span><div class="fc-title">ELI5 REPORTS</div><div class="fc-desc">AI explains scams so your grandma understands. No jargon. Just plain truth.</div><span class="fc-tag ai">AI POWERED</span></div>
                <div class="feature-card reveal"><div class="fc-num">05</div><span class="fc-icon" style="color:var(--green)">&#9733;</span><div class="fc-title">DEPLOYER REPUTATION</div><div class="fc-desc">Trust scores for every wallet. Tracks history. Identifies serial scammers.</div><span class="fc-tag critical">CORE ENGINE</span></div>
                <div class="feature-card reveal reveal-d1"><div class="fc-num">06</div><span class="fc-icon" style="color:var(--yellow)">&#9835;</span><div class="fc-title">ROAST / DEBATE / HORROR</div><div class="fc-desc">AI roasts bad code. Bull vs Bear debates. Horror stories about scam contracts.</div><span class="fc-tag fun">ENTERTAINMENT</span></div>
                <div class="feature-card reveal reveal-d2"><div class="fc-num">07</div><span class="fc-icon" style="color:var(--pink)">&#9729;</span><div class="fc-title">THREAT WEATHER</div><div class="fc-desc">Threat level as weather. Clear skies to severe storms based on scam activity.</div><span class="fc-tag fun">ENTERTAINMENT</span></div>
                <div class="feature-card reveal reveal-d3"><div class="fc-num">08</div><span class="fc-icon" style="color:var(--cyan)">&#8644;</span><div class="fc-title">PUBLIC AGENT API</div><div class="fc-desc">Clawd Kitchen agents query contract safety via REST. Batch checks + WebSocket.</div><span class="fc-tag critical">ECOSYSTEM</span></div>
            </div>
        </section>

        <!-- CTA -->
        <section class="lsection cta-section" style="background:rgba(255,0,51,0.005)">
            <div class="cta-big reveal">DON'T GET <span class="red">REKT</span></div>
            <div class="section-desc reveal" style="margin:0 auto 30px;text-align:center">Every contract deployed on Base goes through us first.</div>
            <div class="reveal" style="display:flex;gap:16px;justify-content:center;flex-wrap:wrap">
                <a href="#" class="btn-launch" onclick="enterApp();return false">ENTER SCANNER</a>
                <a href="https://github.com/YouthAIAgent/REKT-SCANNER" class="btn-gh" target="_blank">GITHUB</a>
            </div>
        </section>

        <!-- FOOTER -->
        <footer class="lfooter">
            <div class="lfooter-logo">REKT SCANNER</div>
            <div class="lfooter-tagline">PROTECTING THE AGENT ECONOMY ONE CONTRACT AT A TIME</div>
            <div class="lfooter-links">
                <a href="#" onclick="enterApp();return false">LAUNCH APP</a>
                <a href="https://github.com/YouthAIAgent/REKT-SCANNER" target="_blank">GITHUB</a>
                <a href="https://basescan.org" target="_blank">BASESCAN</a>
                <a href="https://x.com/Web3__Youth" target="_blank">@WEB3__YOUTH</a>
            </div>
            <div class="lfooter-copy">BUILT FOR CLAWD KITCHEN HACKATHON | AUTONOMOUS AI AGENTS ON BASE<br><span style="color:var(--red)">$REKT</span> | CHAIN 8453 | GROQ AI | MOLTBOOK</div>
        </footer>
    </div>

    <!-- ============ APP VIEW ============ -->
    <div id="app-view">
        <div class="threat-overlay" id="threat-overlay"></div>
        <div class="app-topbar">
            <div class="app-topbar-left">
                <span class="app-logo" onclick="exitApp()">REKT</span>
                <button class="tbtn-back" onclick="exitApp()">&lt; HOME</button>
                <div class="app-status-dot" id="status-dot"></div>
                <div class="app-status-text" id="status-text">CONNECTING...</div>
                <button class="tbtn" id="voice-btn" onclick="toggleVoice()">VOICE</button>
                <button class="tbtn" id="music-btn" onclick="toggleMusic()">MUSIC</button>
                <button class="tbtn" onclick="toggleBingo()">BINGO</button>
                <div class="weather" id="weather-w" onclick="loadWeather()" title="Click to refresh">
                    <span class="weather-icon" id="w-icon">...</span>
                    <span class="weather-text" id="w-text">LOADING</span>
                </div>
            </div>
            <div class="topbar-stats">
                <div class="top-stat"><div class="top-stat-val" id="s-blocks">0</div><div class="top-stat-label">Blocks</div></div>
                <div class="top-stat"><div class="top-stat-val" id="s-contracts">0</div><div class="top-stat-label">Contracts</div></div>
                <div class="top-stat"><div class="top-stat-val" id="s-threats">0</div><div class="top-stat-label">Threats</div></div>
                <div class="top-stat"><div class="top-stat-val" id="s-block">-</div><div class="top-stat-label">Block</div></div>
                <div class="top-stat"><div class="top-stat-val" id="s-deployers">0</div><div class="top-stat-label">Deployers</div></div>
            </div>
        </div>
        <div class="app-main">
            <div class="feed-panel">
                <div class="panel-header"><div class="panel-title">LIVE FEED - BASE MAINNET</div><div style="font-size:8px;color:var(--dim)" id="feed-count">0 scanned</div></div>
                <div class="feed-scroll" id="feed"></div>
                <div class="app-kill-feed" id="app-kill-feed"></div>
            </div>
            <div class="right-panel">
                <div class="search-sec">
                    <div class="search-wrap"><input class="search-input" id="addr-input" placeholder="0x... scan any contract" spellcheck="false"><button class="btn-scan" id="scan-btn" onclick="manualScan()">SCAN</button></div>
                    <div class="loss-calc"><span style="font-size:8px;color:var(--dim)">IF YOU INVEST $</span><input class="loss-input" id="loss-amt" type="number" value="100" min="1"><span class="loss-result" id="loss-result">-</span></div>
                </div>
                <div class="tab-bar">
                    <div class="tab active" data-tab="report" onclick="switchTab('report',this)">REPORT</div>
                    <div class="tab" data-tab="roast" onclick="switchTab('roast',this)">ROAST</div>
                    <div class="tab" data-tab="debate" onclick="switchTab('debate',this)">DEBATE</div>
                    <div class="tab" data-tab="horror" onclick="switchTab('horror',this)">HORROR</div>
                    <div class="tab" data-tab="shame" onclick="switchTab('shame',this)">SHAME</div>
                    <div class="tab" data-tab="graveyard" onclick="switchTab('graveyard',this)">GRAVEYARD</div>
                    <div class="tab" data-tab="digest" onclick="switchTab('digest',this)">PODCAST</div>
                </div>
                <div class="report-panel" id="report-panel">
                    <div class="terminal">
                        <div class="terminal-header"><div class="terminal-dot r"></div><div class="terminal-dot y"></div><div class="terminal-dot g"></div><div class="terminal-title" id="term-title">REKT SCANNER v5.0</div></div>
                        <div class="terminal-body" id="terminal"><span class="t-prompt">$ rekt-scanner --init</span>
<span class="t-info">Connecting to Base Mainnet...</span>
<span class="t-info">Loading 7 vulnerability categories...</span>
<span class="t-prompt">$ rekt-scanner --mode=live --features=all</span>
<span class="t-dim">Waiting for contract deployments...</span>
<span class="t-dim">Click any tab for different AI analysis modes.</span>
<span class="t-purple">Built for Clawd Kitchen Hackathon by @Web3__Youth</span></div>
                    </div>
                </div>
            </div>
        </div>
        <div id="alert-container"></div>
        <div class="bingo-overlay" id="bingo-overlay"><span class="bingo-close" onclick="toggleBingo()">&times;</span><div class="bingo-title">SCAM BINGO</div><div class="bingo-grid" id="bingo-grid"></div><div class="bingo-status" id="bingo-status">Loading...</div></div>
    </div>

    <script>
    /* ================================================================
       VIEW TRANSITION: LANDING <-> APP
       ================================================================ */
    let appInitialized = false;
    function enterApp() {
        const landing = document.getElementById('landing-view');
        const app = document.getElementById('app-view');
        landing.classList.add('exit');
        document.querySelector('.lnav').style.display = 'none';
        document.querySelector('.lkill-feed').style.display = 'none';
        document.querySelector('.vignette').style.display = 'none';
        setTimeout(() => {
            landing.style.display = 'none';
            app.style.display = 'block';
            document.body.style.overflow = 'hidden';
            requestAnimationFrame(() => app.classList.add('visible'));
            if (!appInitialized) { appInitialized = true; initApp(); }
            window.scrollTo(0, 0);
        }, 400);
    }
    function exitApp() {
        const landing = document.getElementById('landing-view');
        const app = document.getElementById('app-view');
        app.classList.remove('visible');
        setTimeout(() => {
            app.style.display = 'none';
            landing.style.display = '';
            landing.classList.remove('exit');
            document.querySelector('.lnav').style.display = '';
            document.querySelector('.lkill-feed').style.display = '';
            document.querySelector('.vignette').style.display = '';
            document.body.style.overflow = '';
            window.scrollTo(0, 0);
        }, 400);
    }

    /* ================================================================
       BOOT SEQUENCE
       ================================================================ */
    const skull=`    ██████╗ ███████╗██╗  ██╗████████╗\n    ██╔══██╗██╔════╝██║ ██╔╝╚══██╔══╝\n    ██████╔╝█████╗  █████╔╝    ██║\n    ██╔══██╗██╔══╝  ██╔═██╗    ██║\n    ██║  ██║███████╗██║  ██╗   ██║\n    ╚═╝  ╚═╝╚══════╝╚═╝  ╚═╝   ╚═╝`;
    const bootMessages=[
        {text:'[BIOS] REKT Security Systems v4.0',cls:''},{text:'[BIOS] Initializing threat detection matrix...',cls:''},
        {text:'[  OK  ] Mounted Base Mainnet RPC (Chain 8453)',cls:'boot-cyan'},{text:'[  OK  ] Loading vulnerability patterns (7 categories)',cls:'boot-cyan'},
        {text:'[  OK  ] BaseScan API keys loaded (4x rotating)',cls:'boot-cyan'},{text:'[  OK  ] Groq AI Engine online (qwen3-32b)',cls:'boot-cyan'},
        {text:'[  OK  ] Deployer reputation database mounted',cls:'boot-cyan'},{text:'[  OK  ] WebSocket broadcast server ready',cls:'boot-cyan'},
        {text:'[  OK  ] Moltbook + Twitter alert system armed',cls:'boot-cyan'},{text:'[WARN ] Threat level: ELEVATED',cls:'boot-yellow'},
        {text:'[  OK  ] Scanner armed and dangerous',cls:'boot-cyan'},{text:'',cls:''},
        {text:'> REKT SCANNER ONLINE. SCANNING BASE MAINNET...',cls:'boot-red'},
    ];
    const bootText=document.getElementById('boot-text'),bootScreen=document.getElementById('boot-screen'),
          bootSkull=document.getElementById('boot-skull'),bootBar=document.getElementById('boot-bar'),bootProgress=bootBar.parentElement;
    let bootIdx=0;
    function runBoot(){bootSkull.textContent=skull;bootSkull.classList.add('show');setTimeout(()=>{bootProgress.classList.add('show');typeBoot()},600)}
    function typeBoot(){
        if(bootIdx>=bootMessages.length){bootBar.style.width='100%';setTimeout(()=>{bootScreen.classList.add('hidden');document.getElementById('landing-view').classList.add('visible');startLanding()},600);return}
        const msg=bootMessages[bootIdx],line=document.createElement('div');
        if(msg.cls)line.innerHTML=`<span class="${msg.cls}">${msg.text}</span>`;else line.textContent=msg.text||'\u00A0';
        bootText.appendChild(line);bootBar.style.width=((bootIdx+1)/bootMessages.length*100)+'%';bootIdx++;
        setTimeout(typeBoot,bootIdx<=2?120:bootIdx>=12?300:100);
    }
    setTimeout(runBoot,300);

    /* ================================================================
       MATRIX RAIN
       ================================================================ */
    const cv=document.getElementById('matrix'),cx=cv.getContext('2d');
    function resizeMatrix(){cv.width=innerWidth;cv.height=innerHeight}
    resizeMatrix();window.addEventListener('resize',resizeMatrix);
    const ch='REKTSCANNER01アイウカキクケ'.split(''),fs=13,colCount=()=>Math.floor(cv.width/fs);
    let dr=Array(colCount()).fill(1);
    function drawMatrix(){cx.fillStyle='rgba(0,0,0,0.06)';cx.fillRect(0,0,cv.width,cv.height);cx.fillStyle='#ff003320';cx.font=fs+'px Share Tech Mono';
        const c=colCount();if(dr.length!==c)dr=Array(c).fill(1);for(let i=0;i<c;i++){cx.fillText(ch[Math.floor(Math.random()*ch.length)],i*fs,dr[i]*fs);if(dr[i]*fs>cv.height&&Math.random()>0.975)dr[i]=0;dr[i]++}}
    setInterval(drawMatrix,50);

    /* ================================================================
       FLOATING CODE
       ================================================================ */
    const codeSnippets=['function removeLiquidity() onlyOwner { }','require(!isBlacklisted[msg.sender]);','selfdestruct(payable(owner));',
        'mapping(address => bool) _blocked;','_mint(deployer, totalSupply * 100);','delegatecall(abi.encode(newLogic))','assembly { sstore(0x0, caller()) }'];
    const floatingEl=document.getElementById('floating-code');
    codeSnippets.forEach(code=>{const el=document.createElement('div');el.className='code-snippet';el.textContent=code;
        el.style.left=(Math.random()*90)+'%';el.style.animationDuration=(15+Math.random()*20)+'s';el.style.animationDelay=(Math.random()*20)+'s';floatingEl.appendChild(el)});

    /* ================================================================
       LANDING PAGE LOGIC
       ================================================================ */
    function startLanding(){initHeroTitle();startHeroTyping();startLandingKillFeed()}

    const heroAscii=`    ██████╗ ███████╗██╗  ██╗████████╗\n    ██╔══██╗██╔════╝██║ ██╔╝╚══██╔══╝\n    ██████╔╝█████╗  █████╔╝    ██║\n    ██╔══██╗██╔══╝  ██╔═██╗    ██║\n    ██║  ██║███████╗██║  ██╗   ██║\n    ╚═╝  ╚═╝╚══════╝╚═╝  ╚═╝   ╚═╝`;
    document.getElementById('hero-ascii').textContent=heroAscii;

    function scrambleReveal(el,finalText,speed=30){const chars='!@#$%^&*()_+-=[]{}|;:,.<>?/~01';let iteration=0;
        const interval=setInterval(()=>{el.textContent=finalText.split('').map((c,i)=>i<iteration?c:chars[Math.floor(Math.random()*chars.length)]).join('');
            if(iteration>=finalText.length)clearInterval(interval);iteration+=0.5},speed)}
    function initHeroTitle(){const title=document.getElementById('hero-title');title.innerHTML='';
        [...'REKT'].forEach((c,i)=>{const s=document.createElement('span');s.className='char';s.textContent=c;s.style.setProperty('--d',(i*0.3)+'s');title.appendChild(s)});
        scrambleReveal(document.getElementById('hero-scanner'),'SCANNER',40)}

    const heroLines=[
        {text:'$ rekt-scanner --init --chain=base --mode=autonomous',cls:'t-g'},{text:'[SYS] Connected to Base Mainnet (Chain 8453)',cls:'t-c'},
        {text:'[SYS] 7 vulnerability scanners loaded',cls:'t-c'},{text:'[SYS] AI Engine: Groq qwen3-32b (online)',cls:'t-c'},
        {text:'',cls:''},{text:'$ rekt-scanner --mode=live --broadcast=all',cls:'t-g'},{text:'',cls:''},
        {text:'[BLOCK] #28491023 | 142 txs | 3 new contracts detected',cls:'t-w'},
        {text:'[!!!!]  CRITICAL THREAT DETECTED (87/100)',cls:'t-r'},{text:'[VULN]  rug_pull (L47, L112) | honeypot (L63, L71)',cls:'t-r'},
        {text:'[AI]    "Classic exit scam: selfdestruct + removeLiquidity"',cls:'t-o'},{text:'[POST]  Alert sent >> Moltbook + @Web3__Youth',cls:'t-p'},
        {text:'[SAFE]  0xab12...ef34 | CLEAN (5/100) | No threats found',cls:'t-g'},
        {text:'',cls:''},{text:'Autonomous scanning active. Protecting Base 24/7...',cls:'t-d'},
    ];
    function startHeroTyping(){let idx=0;const term=document.getElementById('hero-term');
        function typeLine(){if(idx>=heroLines.length){term.appendChild(Object.assign(document.createElement('span'),{className:'cursor-blink'}));return}
            const l=heroLines[idx];idx++;const el=document.createElement('div');el.className='line';
            el.innerHTML=l.text?`<span class="${l.cls}">${l.text}</span>`:'&nbsp;';
            const c=term.querySelector('.cursor-blink');if(c)c.remove();term.appendChild(el);
            term.appendChild(Object.assign(document.createElement('span'),{className:'cursor-blink'}));
            requestAnimationFrame(()=>el.classList.add('show'));setTimeout(typeLine,idx<=5?120:idx>=8?350:200)}
        setTimeout(typeLine,500)}

    function updateClock(){const n=new Date(),el=document.getElementById('term-clock');if(el)el.textContent=`${String(n.getHours()).padStart(2,'0')}:${String(n.getMinutes()).padStart(2,'0')}:${String(n.getSeconds()).padStart(2,'0')} UTC`}
    setInterval(updateClock,1000);updateClock();

    const killAddrs=['0x7a3f','0xdead','0x1337','0xb33f','0xcafe','0xf00d','0xbeef'],killThreats=['rug_pull','honeypot','hidden_mint','reentrancy'];
    function startLandingKillFeed(){setInterval(()=>{const feed=document.getElementById('lkill-feed');if(!feed||feed.offsetParent===null)return;
        if(feed.children.length>5)feed.removeChild(feed.firstChild);const entry=document.createElement('div');
        const isThreat=Math.random()>0.35,addr=killAddrs[Math.floor(Math.random()*killAddrs.length)];
        if(isThreat){entry.className='lkill-entry';entry.textContent=`[THREAT] ${addr}...${Math.random().toString(16).slice(2,6)} | ${killThreats[Math.floor(Math.random()*killThreats.length)]} | ${50+Math.floor(Math.random()*50)}/100`}
        else{entry.className='lkill-entry safe';entry.textContent=`[SAFE] ${addr}...${Math.random().toString(16).slice(2,6)} | CLEAN | 0/100`}
        feed.appendChild(entry);setTimeout(()=>{if(entry.parentNode)entry.remove()},5000)},3000)}

    // NAV scroll
    window.addEventListener('scroll',()=>{const n=document.getElementById('lnav');if(n)n.classList.toggle('scrolled',scrollY>50)});

    // Counter animation
    function animateCounters(){document.querySelectorAll('.stat-num[data-target]').forEach(el=>{const target=parseInt(el.dataset.target),suffix=el.dataset.suffix||'',dur=1500,start=performance.now();
        function update(now){const p=Math.min((now-start)/dur,1);el.textContent=Math.floor((1-Math.pow(1-p,3))*target)+suffix;if(p<1)requestAnimationFrame(update)}requestAnimationFrame(update)})}
    let countersAnimated=false;
    const obs=new IntersectionObserver(entries=>{entries.forEach(e=>{if(e.isIntersecting){e.target.classList.add('visible');if(e.target.closest('#stats-bar')&&!countersAnimated){countersAnimated=true;animateCounters()}}})},{threshold:0.12});
    document.querySelectorAll('.reveal').forEach(el=>obs.observe(el));

    // Smooth scroll
    document.querySelectorAll('a[href^="#"]').forEach(a=>{a.addEventListener('click',e=>{if(a.getAttribute('href')==='#')return;e.preventDefault();const t=document.querySelector(a.getAttribute('href'));if(t)t.scrollIntoView({behavior:'smooth',block:'start'})})});

    /* ================================================================
       APP LOGIC (only runs after enterApp)
       ================================================================ */
    let ws=null,feedCount=0,voiceEnabled=false,musicEnabled=false,speechQueue=[],isSpeaking=false,audioCtx=null;
    let currentTab='report',lastAddr='',lastScanData=null,musicNodes=[];
    const RAILWAY_HOST='rekt-scanner-api-production.up.railway.app';
    const isRemote=location.hostname!=='localhost'&&location.hostname!=='127.0.0.1';
    const apiBase=isRemote?'https://'+RAILWAY_HOST:'';
    const wsBase=isRemote?'wss://'+RAILWAY_HOST:'ws://'+location.host;

    function initApp(){connectWS();loadWeather();setInterval(loadWeather,300000)}

    function ensureAudio(){if(!audioCtx)audioCtx=new(AudioContext||webkitAudioContext)();return audioCtx}
    function playSiren(dur=4){const ctx=ensureAudio(),o=ctx.createOscillator(),g=ctx.createGain(),o2=ctx.createOscillator(),g2=ctx.createGain();
        o.connect(g);g.connect(ctx.destination);o2.connect(g2);g2.connect(ctx.destination);o.type='sawtooth';o2.type='square';g.gain.value=0.8;g2.gain.value=0.4;
        const t=ctx.currentTime;for(let i=0;i<dur*2;i++){o.frequency.linearRampToValueAtTime(900,t+i*0.5);o.frequency.linearRampToValueAtTime(400,t+i*0.5+0.25);
            o2.frequency.linearRampToValueAtTime(600,t+i*0.5);o2.frequency.linearRampToValueAtTime(300,t+i*0.5+0.25)}
        o.start(t);o.stop(t+dur);o2.start(t);o2.stop(t+dur);g.gain.linearRampToValueAtTime(0,t+dur);g2.gain.linearRampToValueAtTime(0,t+dur)}

    function toggleMusic(){musicEnabled=!musicEnabled;document.getElementById('music-btn').classList.toggle('music-on',musicEnabled);
        document.getElementById('music-btn').textContent=musicEnabled?'MUSIC ON':'MUSIC';if(musicEnabled){ensureAudio();startAmbient()}else stopAmbient()}
    function startAmbient(){const ctx=audioCtx;if(!ctx)return;const o1=ctx.createOscillator(),g1=ctx.createGain();o1.type='sine';o1.frequency.value=55;g1.gain.value=0.06;o1.connect(g1);g1.connect(ctx.destination);o1.start();
        const o2=ctx.createOscillator(),g2=ctx.createGain();o2.type='sine';o2.frequency.value=220;g2.gain.value=0.02;o2.connect(g2);g2.connect(ctx.destination);o2.start();
        const lfo=ctx.createOscillator(),lfoG=ctx.createGain();lfo.type='sine';lfo.frequency.value=0.1;lfoG.gain.value=10;lfo.connect(lfoG);lfoG.connect(o2.frequency);lfo.start();musicNodes=[o1,g1,o2,g2,lfo,lfoG]}
    function stopAmbient(){musicNodes.forEach(n=>{try{n.stop?.()}catch(e){}try{n.disconnect()}catch(e){}});musicNodes=[]}
    function playThreatBurst(){if(!musicEnabled)return;const ctx=audioCtx;if(!ctx)return;const o=ctx.createOscillator(),g=ctx.createGain();
        o.type='sawtooth';o.frequency.value=80;g.gain.value=0.15;o.connect(g);g.connect(ctx.destination);const t=ctx.currentTime;
        o.frequency.linearRampToValueAtTime(40,t+2);g.gain.linearRampToValueAtTime(0,t+2);o.start(t);o.stop(t+2)}

    function toggleVoice(){voiceEnabled=!voiceEnabled;const b=document.getElementById('voice-btn');b.textContent=voiceEnabled?'VOICE ON':'VOICE';b.classList.toggle('active',voiceEnabled);
        if(voiceEnabled){ensureAudio();speak("REKT Scanner voice mode activated.")}}
    function speak(text,rate=0.9,pitch=0.8){if(!voiceEnabled||!speechSynthesis)return;speechQueue.push({text,rate,pitch});processQ()}
    function processQ(){if(isSpeaking||speechQueue.length===0)return;isSpeaking=true;const{text,rate,pitch}=speechQueue.shift(),u=new SpeechSynthesisUtterance(text);
        u.rate=rate;u.pitch=pitch;u.volume=1;const v=speechSynthesis.getVoices(),pref=v.find(x=>x.name.includes('Google')&&x.lang.startsWith('en'))||v.find(x=>x.lang.startsWith('en'));
        if(pref)u.voice=pref;u.onend=()=>{isSpeaking=false;processQ()};u.onerror=()=>{isSpeaking=false;processQ()};speechSynthesis.speak(u)}

    function switchTab(tab,el){currentTab=tab;document.querySelectorAll('.tab').forEach(t=>t.className='tab');
        const cm={report:'active',roast:'active-red',debate:'active-purple',horror:'active-orange',shame:'active-red',graveyard:'active',digest:'active-purple'};
        el.classList.add('tab');el.classList.add(cm[tab]||'active');
        const titles={report:'THREAT REPORT',roast:'ROAST MY CONTRACT',debate:'AI vs AI DEBATE',horror:'HORROR STORY',shame:'HALL OF SHAME',graveyard:'CONTRACT GRAVEYARD',digest:'REKT DAILY PODCAST'};
        document.getElementById('term-title').textContent=titles[tab]||'REKT SCANNER v5.0';
        if(tab==='shame')loadShame();else if(tab==='graveyard')loadGraveyard();else if(tab==='digest')loadDigest();
        else if(lastAddr&&tab!=='report'){if(tab==='roast')loadRoast(lastAddr);else if(tab==='debate')loadDebate(lastAddr);else if(tab==='horror')loadHorror(lastAddr)}
        else if(!lastAddr&&['roast','debate','horror'].includes(tab))termWrite(`<span class="t-dim">Scan a contract first, then switch tabs.</span>`)}
    function termWrite(html){document.getElementById('terminal').innerHTML=html}
    function termLoading(msg){termWrite(`<span class="t-info">${msg}</span>\n<span class="t-dim">Querying AI engine...</span>`)}

    function connectWS(){ws=new WebSocket(wsBase+'/ws');
        ws.onopen=()=>{document.getElementById('status-text').textContent='MONITORING';document.getElementById('status-dot').style.background='var(--green)'};
        ws.onclose=()=>{document.getElementById('status-text').textContent='RECONNECTING';document.getElementById('status-dot').style.background='var(--orange)';setTimeout(connectWS,3000)};
        ws.onerror=()=>{};ws.onmessage=e=>{const d=JSON.parse(e.data);handleEvent(d)};
        setInterval(()=>{if(ws&&ws.readyState===1)ws.send(JSON.stringify({type:'ping'}))},30000)}

    function handleEvent(d){
        if(d.type==='init'){updateStats(d.stats);if(d.recent)d.recent.reverse().forEach(c=>addCard(c))}
        if(d.type==='new_block'){updateStats(d.stats);addBlock(d)}
        if(d.type==='new_contract'){addCard(d);addKillEntry(d);updateLoss(d);const score=d.risk?.score||0;
            if(score>=50){showThreatAlert(d);if(currentTab==='report')renderThreatReport(d);lastAddr=d.address;lastScanData=d;
                if(voiceEnabled){playSiren(score>=70?5:3);document.getElementById('threat-overlay').classList.add('active');
                    setTimeout(()=>document.getElementById('threat-overlay').classList.remove('active'),3000);
                    setTimeout(()=>{if(d.commentary)speak(d.commentary,0.8,0.6)},score>=70?5000:3000)}
                if(musicEnabled)playThreatBurst()}}}

    function updateStats(s){if(!s)return;document.getElementById('s-blocks').textContent=s.blocks_scanned?.toLocaleString()||'0';
        document.getElementById('s-contracts').textContent=s.contracts_found?.toLocaleString()||'0';document.getElementById('s-threats').textContent=s.threats_detected?.toLocaleString()||'0';
        document.getElementById('s-block').textContent=s.last_block?.toLocaleString()||'-';document.getElementById('s-deployers').textContent=s.deployers_tracked?.toLocaleString()||'0'}

    function addKillEntry(c){const kf=document.getElementById('app-kill-feed'),score=c.risk?.score||0,el=document.createElement('div');
        if(score>=50){el.className='akill-entry';el.innerHTML=`<span style="color:var(--red)">X</span> REKT <span style="color:var(--cyan)">${c.address?.slice(0,8)}...</span> <span style="color:var(--red)">[${score}]</span> ${c.findings?.map(f=>f.type.replace('_',' ')).join(', ')||''}`}
        else{el.className='akill-entry safe';el.innerHTML=`<span style="color:var(--green)">~</span> CLEAR <span style="color:var(--cyan)">${c.address?.slice(0,8)}...</span> <span style="color:var(--green)">[${score}]</span>`}
        kf.appendChild(el);setTimeout(()=>el.remove(),6000);while(kf.children.length>5)kf.removeChild(kf.firstChild)}

    function updateLoss(c){const amt=parseFloat(document.getElementById('loss-amt').value)||100,score=c?.risk?.score||lastScanData?.risk?.score||0;
        if(score>=70)document.getElementById('loss-result').innerHTML=`YOU LOSE $${amt} (${score}% chance)`;
        else if(score>=50)document.getElementById('loss-result').innerHTML=`RISKY - ~$${Math.round(amt*score/100)} at risk`;
        else document.getElementById('loss-result').innerHTML=`<span style="color:var(--green)">Probably safe</span>`}
    document.getElementById('loss-amt')?.addEventListener('input',()=>updateLoss(lastScanData));

    function addBlock(d){if(d.contract_deploys===0&&feedCount>3)return;const f=document.getElementById('feed'),el=document.createElement('div');el.className='block-ev';
        el.innerHTML=`<span>#${d.block} | ${d.tx_count} txs | ${d.contract_deploys} deploys</span><span>${new Date(d.timestamp).toLocaleTimeString()}</span>`;
        f.insertBefore(el,f.firstChild);while(f.children.length>300)f.removeChild(f.lastChild)}

    function addCard(c){const f=document.getElementById('feed'),score=c.risk?.score||0,rc=score>=70?'critical':score>=50?'high':score>=30?'medium':'low',
        cc=score>=50?'threat':score>=30?'warning':'safe',el=document.createElement('div');el.className=`contract-card ${cc}`;
        el.onclick=()=>{document.getElementById('addr-input').value=c.address;lastAddr=c.address;lastScanData=c;manualScan()};
        let tags='';if(c.findings?.length>0)tags='<div class="cc-findings">'+c.findings.map(f=>`<span class="cc-tag ${f.severity}">${f.type.replace('_',' ')}</span>`).join('')+'</div>';
        const repColor=c.deployer_reputation==='MALICIOUS'?'var(--red)':c.deployer_reputation==='SUSPICIOUS'?'var(--orange)':c.deployer_reputation==='TRUSTED'?'var(--green)':'var(--dim)';
        el.innerHTML=`<div class="cc-top"><span class="cc-addr">${c.address?.slice(0,10)}...${c.address?.slice(-6)||''}</span><span class="cc-risk ${rc}">${c.risk?.rating||'?'}</span></div>
            <div class="cc-meta"><span>#${c.block||'-'}</span><span>${c.contract_name||'Unknown'}</span><span>${c.is_verified?'V':'U'}</span><span style="color:${repColor}">${c.deployer_reputation||'?'}</span></div>
            ${tags}${(score>=50&&c.commentary)?`<div class="cc-commentary">${c.commentary}</div>`:''}`;
        f.insertBefore(el,f.firstChild);feedCount++;document.getElementById('feed-count').textContent=feedCount+' scanned';
        while(f.children.length>300)f.removeChild(f.lastChild);if(score>=70)el.style.animation='slideIn 0.4s ease-out'}

    function showThreatAlert(c){const ct=document.getElementById('alert-container'),el=document.createElement('div');el.className='threat-alert';
        el.innerHTML=`<div class="alert-title">THREAT DETECTED</div><div class="alert-addr">${c.address}</div>
            <div class="alert-info">Risk: ${c.risk?.score}/100 | ${c.findings?.map(f=>f.type.replace('_',' ')).join(', ')||''}</div>`;
        ct.appendChild(el);setTimeout(()=>el.remove(),8000)}

    function renderThreatReport(c){const t=document.getElementById('terminal'),dangerLines={};
        if(c.findings){for(const f of c.findings){if(f.forensics){for(const fl of f.forensics){dangerLines[fl.line]={type:f.type.replace('_',' ').toUpperCase(),severity:f.severity,desc:f.description}}}}}
        let h=`<span class="t-danger">━━━━ THREAT REPORT ━━━━━━━━━━━━━━━</span>\n<span class="t-prompt">$ contract</span> <span class="t-info">${c.address}</span>\n<span class="t-prompt">$ deployer</span> <span class="t-info">${c.deployer||'?'}</span>\n<span class="t-prompt">$ risk</span> <span class="t-danger">${c.risk?.score}/100 - ${c.risk?.rating}</span>\n<span class="t-prompt">$ deployer_rep</span> <span class="t-warn">${c.deployer_reputation||'?'} (Trust: ${c.deployer_trust||'?'})</span>\n\n`;
        if(c.source_code){h+=`<span class="t-prompt">$ cat contract.sol</span>\n<div class="code-block">`;
            const lines=c.source_code.split('\n'),dNums=Object.keys(dangerLines).map(Number);
            for(let i=0;i<lines.length;i++){const ln=i+1,isDanger=dangerLines[ln],lt=esc(lines[i]);
                if(isDanger){h+=`<div class="code-line"><span class="code-num" style="color:var(--red)">${ln}</span><span class="code-text danger">${lt}</span></div><div class="code-line"><span class="code-num"></span><span class="code-annotation">^^^ [${isDanger.severity}] ${isDanger.type}</span></div>`}
                else{const near=dNums.some(d=>Math.abs(d-ln)<=3);if(near||lines.length<=80)h+=`<div class="code-line"><span class="code-num">${ln}</span><span class="code-text${near?' safe':''}">${lt}</span></div>`;
                    else{const nx=dNums.find(d=>d>ln);if(nx&&nx-ln>7){h+=`<div class="code-line"><span class="code-num" style="color:var(--dim)">...</span><span class="code-text" style="color:var(--dim)">[${nx-ln-6} lines]</span></div>`;i=nx-4}}}}
            h+=`</div>\n`}else{h+=`<span class="t-warn">$ Source UNVERIFIED</span>\n`;if(c.bytecode_preview)h+=`<div class="code-block"><span class="code-text" style="color:var(--orange);word-break:break-all">${esc(c.bytecode_preview)}</span></div>\n`}
        if(c.findings?.length>0){h+=`\n<span class="t-danger">━━━ VULNERABILITIES ━━━</span>\n`;for(const f of c.findings)h+=`<span class="${f.severity==='CRITICAL'?'t-danger':'t-warn'}">  [${f.severity}] ${f.type.replace('_',' ').toUpperCase()} (${f.count}x)</span>\n`}
        if(c.ai_audit)h+=`\n<span class="t-info">━━━ AI AUDIT ━━━</span>\n<span class="t-white">${esc(c.ai_audit)}</span>\n`;
        if(c.eli5_report)h+=`\n<span class="t-info">━━━ EXPLAINED SIMPLY ━━━</span>\n<span class="t-white">${esc(c.eli5_report)}</span>\n`;
        h+=`\n<span class="t-prompt">$ basescan</span> <span class="t-info">https://basescan.org/address/${c.address}</span>\n`;t.innerHTML=h;t.scrollTop=0}

    async function loadRoast(addr){termLoading(`Roasting ${addr.slice(0,10)}...`);try{const r=await(await fetch(`${apiBase}/api/roast/${addr}`)).json();
        termWrite(`<span class="t-danger">━━━━ ROAST MY CONTRACT ━━━━━━━━━━</span>\n\n<span class="t-prompt">$ roast</span> <span class="t-info">${addr}</span>\n<span class="t-dim">${r.contract_name||'Unknown'} | Risk: ${r.risk?.score||'?'}</span>\n\n<span class="t-white" style="font-size:12px;line-height:2">${esc(r.roast)}</span>`);
        if(voiceEnabled)speak(r.roast,1.0,1.0)}catch(e){termWrite(`<span class="t-danger">Roast failed: ${e.message}</span>`)}}

    async function loadDebate(addr){termLoading(`Starting AI debate...`);try{const r=await(await fetch(`${apiBase}/api/debate/${addr}`)).json();
        termWrite(`<span class="t-purple">━━━━ AI vs AI DEBATE ━━━━━━━━━━━━</span>\n\n<span class="t-info">BULL:</span>\n<span class="t-white">${esc(r.debate?.bull)}</span>\n\n<span class="t-danger">BEAR:</span>\n<span class="t-white">${esc(r.debate?.bear)}</span>`);
        if(voiceEnabled){speak("The bull says: "+r.debate?.bull,1.0,1.2);speak("The bear responds: "+r.debate?.bear,0.85,0.5)}}catch(e){termWrite(`<span class="t-danger">Debate failed: ${e.message}</span>`)}}

    async function loadHorror(addr){termLoading(`Generating horror story...`);try{const r=await(await fetch(`${apiBase}/api/horror/${addr}`)).json();
        termWrite(`<span class="t-warn">━━━━ HORROR STORY ━━━━━━━━━━━━━━━</span>\n\n<span class="t-white" style="font-size:11px;line-height:2">${esc(r.story)}</span>`);
        if(voiceEnabled)speak(r.story,0.75,0.4)}catch(e){termWrite(`<span class="t-danger">Horror failed: ${e.message}</span>`)}}

    async function loadShame(){termLoading('Loading Hall of Shame...');try{const r=await(await fetch(apiBase+'/api/hall-of-shame?limit=15')).json();
        if(!r.shame?.length){termWrite(`<span class="t-dim">No scammers caught yet.</span>`);return}
        let h=`<span class="t-danger">━━━━ HALL OF SHAME ━━━━━━━━━━━━━━</span>\n`;
        r.shame.forEach((d,i)=>{const pct=Math.round((d.threats_deployed/Math.max(d.contracts_deployed,1))*100);
            h+=`<span class="t-danger">#${i+1}</span> <span class="t-info">${d.address.slice(0,14)}...${d.address.slice(-6)}</span>\n   <span class="t-dim">Contracts: ${d.contracts_deployed} | Threats: </span><span class="t-danger">${d.threats_deployed}</span><span class="t-dim"> | Trust: ${d.trust_score}</span>\n   <span class="t-danger">${'█'.repeat(Math.round(pct/5))}</span><span class="t-dim">${'░'.repeat(20-Math.round(pct/5))}</span> <span class="t-warn">${pct}% scam</span>\n\n`});
        termWrite(h)}catch(e){termWrite(`<span class="t-danger">Error: ${e.message}</span>`)}}

    async function loadGraveyard(){termLoading('Digging up the graveyard...');try{const r=await(await fetch(apiBase+'/api/graveyard')).json();
        if(!r.tombstones?.length){termWrite(`<span class="t-dim">Graveyard empty.</span>`);return}
        let h=`<span class="t-dim">━━━━ CONTRACT GRAVEYARD ━━━━━━━━━━</span>\n<span class="t-dim">${r.total_dead} contracts rest here</span>\n\n`;
        r.tombstones.forEach(c=>{h+=`<span class="t-dim">       ___________\n      |           |\n      |   </span><span class="t-danger"> R.I.P </span><span class="t-dim">  |\n      |</span> <span class="t-info">${(c.address||'').slice(0,9)}</span><span class="t-dim">|\n      | </span><span class="t-warn">Score ${c.risk?.score||'?'}</span><span class="t-dim">  |\n      |___________|\n     /             \\\n\n</span>`});
        termWrite(h)}catch(e){termWrite(`<span class="t-danger">Error: ${e.message}</span>`)}}

    async function loadDigest(){termLoading('Generating REKT Daily Podcast...');try{const r=await(await fetch(apiBase+'/api/digest')).json();
        termWrite(`<span class="t-purple">━━━━ REKT DAILY PODCAST ━━━━━━━━━</span>\n\n<span class="t-white" style="font-size:11px;line-height:2">${esc(r.digest)}</span>\n\n<span class="t-dim">Stats: ${r.stats?.blocks_scanned||0} blocks | ${r.stats?.contracts_found||0} contracts | ${r.stats?.threats_detected||0} threats</span>`);
        if(voiceEnabled)speak(r.digest,0.9,0.9)}catch(e){termWrite(`<span class="t-danger">Error: ${e.message}</span>`)}}

    function toggleBingo(){const o=document.getElementById('bingo-overlay');o.classList.toggle('show');if(o.classList.contains('show'))loadBingo()}
    async function loadBingo(){try{const r=await(await fetch(apiBase+'/api/bingo')).json();const g=document.getElementById('bingo-grid');g.innerHTML='';
        r.squares.forEach(s=>{const d=document.createElement('div');d.className=`bingo-sq${s.found?' found':''}${s.id==='free'?' free':''}`;d.textContent=s.label;g.appendChild(d)});
        const st=document.getElementById('bingo-status');st.textContent=r.bingo?'BINGO!!':`${r.found}/${r.total} patterns found`;st.style.color=r.bingo?'var(--green)':'var(--cyan)'}catch(e){document.getElementById('bingo-status').textContent='Error loading'}}

    async function loadWeather(){try{const r=await(await fetch(apiBase+'/api/weather')).json();const icons={1:'☀️',2:'⛅',3:'🌥️',4:'🌩️',5:'⛈️'};
        document.getElementById('w-icon').textContent=icons[r.threat_level]||'🌀';document.getElementById('w-text').textContent=r.condition||'?'}catch(e){}}

    async function manualScan(){const addr=document.getElementById('addr-input').value.trim();if(!addr)return;lastAddr=addr;
        const btn=document.getElementById('scan-btn');btn.disabled=true;btn.textContent='...';termLoading(`Scanning ${addr}...`);
        try{const[sr,ar]=await Promise.all([fetch(apiBase+'/api/scan',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({address:addr})}),fetch(apiBase+'/api/ai-audit/'+addr)]);
            const sd=await sr.json(),ad=await ar.json();sd.ai_audit=ad.ai_audit||'';lastScanData=sd;updateLoss(sd);
            if(currentTab==='report')renderThreatReport(sd);else if(currentTab==='roast')loadRoast(addr);else if(currentTab==='debate')loadDebate(addr);else if(currentTab==='horror')loadHorror(addr);else renderThreatReport(sd);
            if(voiceEnabled&&sd.risk?.score>=50&&sd.ai_audit)speak(sd.ai_audit,0.85,0.7)}catch(e){termWrite(`<span class="t-danger">Error: ${e.message}</span>`)}
        btn.disabled=false;btn.textContent='SCAN'}
    document.getElementById('addr-input').addEventListener('keydown',e=>{if(e.key==='Enter')manualScan()});

    function esc(s){return s?.replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;')||''}
    </script>
</body>
</html>
